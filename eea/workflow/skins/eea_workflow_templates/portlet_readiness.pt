<html xmlns:tal="http://xml.zope.org/namespaces/tal"
	xmlns:metal="http://xml.zope.org/namespaces/metal"
	i18n:domain="indicators">

	<body>
		<metal:macro metal:define-macro="portlet">
			<tal:defs tal:define="api nocall:context/@@get_readiness | nothing; " tal:condition="api" >
				<dl class="portlet" id="readiness-status" tal:define="info python:api.get_info_for('published');">
					<dt class="portletHeader">
						<a href="" 
							tal:attributes="href string:${context/absolute_url}/edit" 
							class="tile">Editing progress</a>
					</dt>

					<dt class="portletItem" class="percentageDone">
						<span tal:content="info/done" class="percentage" />% percentage done.
					</dt>
					
					<dt class="portletItem" class="missingRequired" >
						<span class="missingRequiredNr" tal:content="python:info['publishing'] - info['required']" /> of <span tal:content="python:info['publishing']" /> required fields are missing. 
					</dt>
					
					<dt class="portletItem discreet">
						There are <span tal:content="info/total" /> fields in this content item.
					</dt>
					
					<dd class="portletFooter">
						<a href="" 
							tal:attributes="href string:${context/absolute_url}/edit" 
							title="" class="moreLink" >
							<span i18n:translate="edit">Edit</span>
						</a>
					</dd>
				</dl>
			</tal:defs>
		</metal:macro>
	</body>
</html>
