<html xmlns:tal="http://xml.zope.org/namespaces/tal"
	xmlns:metal="http://xml.zope.org/namespaces/metal"
	i18n:domain="indicators">

	<body>
		<metal:macro metal:define-macro="portlet">
			<tal:defs tal:define="api nocall:context/@@get_readiness | nothing; " tal:condition="api" >
				<dl class="portlet" tal:define="info python:api.get_info_for('published');">
					<dt class="portletHeader">
						<a href="" 
							tal:attributes="href string:${context/absolute_url}/edit" 
							class="tile">Editing progress</a>
					</dt>

					<dt class="portletItem">
						Percentage done: <span tal:content="info/done" />%
					</dt>
					<dt class="portletItem">
						Total number of fields: <span tal:content="info/total" />
					</dt>
					<dt class="portletItem">
						Number of missing required information: <span tal:content="python:info['publishing'] - info['required']" />
					</dt>
					<dt class="portletItem">
						Optional empty fields: <span tal:content="info/optional" />
					</dt>

					<dd class="portletFooter">
						<a href="" 
							tal:attributes="href string:${context/absolute_url}/edit" 
							title="" class="moreLink" >
							<span i18n:translate="edit">Edit</span>
						</a>
					</dd>
				</dl>
			</tal:defs>
		</metal:macro>
	</body>
</html>
